# nime

nime is Not IME.


## 

nimeは日本語入力用ツールです。
IMEがオフの状態でro-majidekorekore

機能の実現にWebAPIを利用しているため、動作にはインターネット環境が必要となります。


## 利用している外部サービス

ひらがなから日本語への変換には、以下のWebAPIを利用しています。

Google CGI API for Japanese Input
[https://www.google.co.jp/ime/cgiapi.html?authuser=0]

> Google CGI API for Japanese Input は、日本語変換をインターネット上で実現するための、CGI サービスです。


変換時の処理判定時に英語辞書データを利用しています。これには以下のWebAPIを利用しています。

[https://excelapi.org/]
[https://excelapi.org/docs/dictionary/enja_free/]


日本語の説明に用いているAPI
https://excelapi.org/docs/dictionary/wikipedia_summary/

形態素解析


##

一連のローマ字入力を認識して日本語に変換します。そのため、日本語入力のためにIMEを切り替える必要がありません。
ここで、一連のローマ字入力の終了は以下のいずれかのタイミングで検知します。

* Space押下時
* Ctrl押下時
* Enter押下時
* キャレット位置が一連のローマ字の範囲外に出た時（押下されたキーからの推測のため、実際に範囲外には出ていない場合でも）
* マウスクリック時
* アクティブなアプリケーションが切り替わった時


変換キー(キーは設定で変更することができます)の押下で変換されます。また、 `,`あるいは`.`の入力時にも自動で変換されます。
変換結果が誤っている場合には、続けて変換キーを押下することで、変換結果を編集できます。

大文字で入力した個所は区切りとして認識します
`kokodeHakimonowonugu` -> ここで|はきものをぬぐ
`kokodehaKimonowonugu` -> ここでは|きものをぬぐ


大文字から始まった一連の単語は変換対象外とします(設定でON/OFF)
`This`など


変換結果がnime上で表示されない場合には、IMEを使用して当該部分だけを直接指定することもできます
この時、辞書登録も同時に行われます。



## 動作確認を行ったアプリケーション

### 正常に動作していそう
以下のアプリケーションにおいては、正常に利用できることを確認しています。

* Microsoft Edge
* mozzila firefox
* Google Chrome

* Microsoft word
* visual studio 2022
* メモ帳

### 一部問題あり
以下のアプリケーションにおいては、nimeにて予め設定を行う必要があったり、一部機能が利用できない等の制限がありますが、概ね問題なく利用することが可能です。


#### 入力表示がキャレット位置にでない
キャレット位置が判定できず、ウインドウの左上に入力表示が表示されます。日本語の入力機能自体には問題ありません。

* Inkscape
* Adobe Acrobat(編集時のみ)


#### 文字数×BSで消すように設定が必要
文字変換時動作が少々もたつきます。
jnimeexit
* Terminal
* gVim
* excel(F2での編集時は問題なし)


#### nime上での変換編集時にIMEを用いた直接編集をすることができない

* Explorer(名前変更時、検索ボックス、アドレスバー利用時、変換時にIME利用による直接指定ができない)


### 正しく動作しない
現在のバージョンでは、まともに日本語が入力されません。

* NVim(正しい文字列が入力されない)

